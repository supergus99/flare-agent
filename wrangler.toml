# Flare – Cloudflare Worker
# Set account_id after: npx wrangler whoami (or from Cloudflare Dashboard)
name = "flare-worker"
main = "src-flare-new/index.js"
compatibility_date = "2024-01-01"

# Uncomment and set your Account ID (from Workers & Pages in Dashboard):
# account_id = "YOUR_ACCOUNT_ID"

# D1
[[d1_databases]]
binding = "DB"
database_name = "flare-db"
database_id = "4cdf2868-c471-4005-9231-226c3289549f"

# R2 – create bucket "flare-reports" in Dashboard (Workers R2 Storage) first
[[r2_buckets]]
binding = "REPORTS"
bucket_name = "flare-reports"

# Queues – create queue "flare-jobs" in Dashboard (Workers & Pages > Queues) first
[[queues.producers]]
queue = "flare-jobs"
binding = "JOBS"

[[queues.consumers]]
queue = "flare-jobs"
max_batch_size = 1
max_batch_timeout = 30
